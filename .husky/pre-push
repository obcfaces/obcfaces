#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ§ª Running pre-push checks..."
echo ""

# Type check
echo "ğŸ“ Type checking..."
pnpm run type-check || npx tsc --noEmit || {
  echo "âŒ Type check failed"
  exit 1
}

# Lint
echo "ğŸ” Linting..."
pnpm run lint || {
  echo "âŒ Lint failed"
  exit 1
}

# Build
echo "ğŸ—ï¸  Building..."
pnpm build || {
  echo "âŒ Build failed"
  exit 1
}

# Unit tests
echo "ğŸ§ª Running unit tests..."
pnpm test || {
  echo "âŒ Tests failed"
  exit 1
}

echo ""
echo "âœ… All pre-push checks passed!"
echo "ğŸš€ Pushing to remote..."
